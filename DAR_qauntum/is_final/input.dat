import forte

psi4.core.IOManager.shared_object().set_default_path('/data/home/xzzeng/soft/forte/tests/my_test/DAR_1/ccpvdz/is_cas_3/tmp/')

molecule{
 C                 -0.55455400   -0.48439700    0.00000600
 C                 -0.45441900   -1.81693400    0.00115200
 H                 -1.33803100   -2.44347500    0.00148700
 H                  0.51519700   -2.29911700    0.00194300
 C                  0.55455500    0.48440100    0.00000400
 C                  0.45442500    1.81693900    0.00115100
 H                  1.33804000    2.44347500    0.00148800
 H                 -0.51518800    2.29912700    0.00194800
 Cl                 2.17199100   -0.23428500   -0.00061000
 Cl                -2.17199400    0.23428200   -0.00061000
 C                  6.46970150  -20.72714110   -6.38187287
 C                  7.80534650  -20.72714010   -6.38121887
 C                  6.00551750  -22.14419310   -6.38168487
 C                  8.26953350  -22.14419210   -6.38136387
 O                  9.38320750  -22.58505810   -6.38209987
 O                  4.89184050  -22.58505810   -6.38172987
 O                  7.13752450  -22.95737410   -6.38102387
 H                  5.77672350  -19.89594010   -6.38208987
 H                  8.49832350  -19.89593810   -6.38073387
units angstrom
}

set globals{
 basis             cc-pvdz
 reference         rhf
# scf_type          pk
 scf_type          df
 d_convergence     8
 e_convergence     10
 mcscf_maxiter     1000
 frozen_docc       [ 5]
 restricted_docc   [ 50]
 active            [ 2]
}

set forte{
  active_space_solver    fci
  correlation_solver     dsrg-mrpt2
  int_type               df
  dsrg_s                 0.6
  frozen_docc            [ 5]
  restricted_docc        [ 50]
  active                 [ 2]
  dsrg_hbar_seq          true
  relax_ref            once 
}

Emcscf, wfn = energy('casscf',return_wfn=True)
energy('forte',ref_wfn=wfn)

